<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بوابة الطالب - الحكم بن عمرو الثانوية</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    
    <div id="loader-overlay" class="loader-overlay">
        <div class="loader"></div>
    </div>
    
    <div id="mySidebar" class="sidebar">
        <div class="sidebar-top-header">
            <i class="fas fa-grip-lines-vertical"></i>
            البوابة الرئيسية
        </div>
        
        <a href="lessons.html"><i class="fas fa-book-open"></i> الدروس</a>
        <a href="classes.html"><i class="fas fa-calendar-alt"></i> جدول الحصص</a>
        <a href="quizzes.html"><i class="fas fa-pencil-alt"></i> الواجبات</a> 
        <a href="results.html"><i class="fas fa-chart-line"></i> النتائج</a> <a href="exams.html"><i class="fas fa-brain"></i> الاختبارات</a> 
        
        <hr style="margin: 10px 15px; border-color: #555;">
        <a href="notes.html"><i class="far fa-comments"></i> الملاحظات</a> 
    </div>
    
    <div id="login-screen" class="login-screen">
        <video autoplay muted loop class="login-video-bg">
            <source src="login_video.mp4" type="video/mp4">
            </video>
        <div class="login-container">
            <div id="forgot-password-screen" class="forgot-password-screen">
                <i class="fas fa-arrow-left back-to-login" onclick="showLogin()"></i>
                <h2>نسيت كلمة المرور؟</h2>
                <p>أدخل بريدك الإلكتروني لإرسال رمز التحقق.</p>
                <form id="forgot-password-form" style="width: 100%;">
                    <div class="input-group">
                        <label for="recovery-email">البريد الإلكتروني:</label>
                        <input type="email" id="recovery-email" required placeholder="example@hakam.edu.sa">
                    </div>
                    <button type="submit" class="login-btn" style="background-color: var(--success-color);">إرسال الرمز</button>
                    <p id="recovery-message" class="login-message" style="color: var(--success-color);"></p>
                </form>
            </div>
            
            <div id="main-login-content">
                <img src="school_logo.jpg" alt="شعار المدرسة" class="login-logo">
                <h2>تسجيل الدخول لبوابة الطالب</h2>
                <p>يُرجى إدخال بيانات الدخول الخاصة بك.</p>
                
                <form id="login-form">
                    <div class="input-group">
                        <label for="email">البريد الإلكتروني:</label>
                        <input type="email" id="email" required placeholder="مثال: test@hakam.edu.sa">
                    </div>
                    <div class="input-group">
                        <label for="password">كلمة المرور:</label>
                        <input type="password" id="password" required placeholder="***********">
                    </div>
                    <button type="submit" class="login-btn">دخول البوابة</button>
                    <p id="login-message" class="login-message"></p>
                    <a href="#" class="forgot-password-link" onclick="showForgotPassword()">هل نسيت كلمة السر ؟</a>
                </form>
            </div>
        </div>
    </div>
    <div id="welcome-overlay" class="welcome-overlay hidden">
        <div class="welcome-box">
            <i class="fas fa-times close-welcome" onclick="closeWelcomeScreen()"></i>
            <h1>الموقع قيد التطوير</h1>
            <h2>تم صنعه لغرض التجربة</h2>
            
            <div class="credits">
                تم صنعه من قبل: ريان محمد البارقي و سلطان سعيد ال حشاش
            </div>
            <div class="copyright">
                جميع الحقوق محفوظة لدى مدرسة الحكم بن عمرو
            </div>
        </div>
    </div>
    <div id="main-content" class="main-content hidden">

        <header class="main-header">
            <div class="logo">
                <img src="school_logo.jpg" alt="شعار المدرسة" class="school-logo"> 
                الـحـكـم بـن عـمـرو 
            </div>
            
            <div class="user-actions">
                <div class="notification-container">
                    <i class="fas fa-bell" id="notification-bell"></i> 
                    <div id="notification-dropdown" class="notification-dropdown">
                        <h4>التنبيهات الجديدة</h4>
                        <p><i class="fas fa-clipboard-list" style="color: var(--primary-dark);"></i> يوجد واجبات يجب حلها</p>
                        <p><i class="fas fa-calendar-check" style="color: var(--success-color);"></i> تم إدراج الحصص لهذا الأسبوع</p>
                    </div>
                </div>
                <img src="profile.jpg" alt="صورة المستخدم" class="profile-pic">
            </div>
        </header>

        <section class="hero-section">
            <img src="hero_banner.jpg" alt="صورة بنر ثابت للطلاب" class="centered-banner-image">
            <hr class="separator-line">
            
            <div class="hero-video-container">
                <video autoplay muted loop playsinline>
                    <source src="hero_video.mp4" type="video/mp4">
                    متصفحك لا يدعم تشغيل الفيديو.
                </video>
            </div>

        </section>


        <main class="dashboard-content">
            
            <div class="main-cards-grid" style="max-width: 450px;"> <a href="lessons.html" class="main-card">
                    <i class="fas fa-book-open"></i>
                    <h3>الدروس</h3>
                    <p>المقررات الدراسية وشروحاتها</p>
                </a>
                
                <a href="classes.html" class="main-card">
                    <i class="fas fa-calendar-alt"></i>
                    <h3>جدول الحصص</h3>
                    <p>جدول الحصص الحضوريه اليومية</p>
                </a>

                <a href="quizzes.html" class="main-card">
                    <i class="fas fa-pencil-alt"></i>
                    <h3>الواجبات</h3>
                    <p>حل الواجبات المدرسية المتاحة</p>
                </a>

                <a href="exams.html" class="main-card">
                    <i class="fas fa-brain"></i>
                    <h3>الاختبارات</h3>
                    <p>مواعيد الاختبارات القادمة</p>
                </a>
                </div>
            
        </main>

        <footer class="main-footer">
            <p>تم صنع الموقع من قبل ريان محمد البارقي و سلطان سعيد ال حشاش</p>
            <p>جميع الحقوق محفوظة لدى الحكم بن عمرو</p>
        </footer>

    </div>
    <script>
        // ===============================================
        // 1. وظائف القائمة الجانبية (Sidebar) (لشاشات الجوال)
        // ===============================================
        function openNav() {if (window.innerWidth <= 900) {document.getElementById("mySidebar").style.width = "250px";}}
        function closeNav() {if (window.innerWidth <= 900) {document.getElementById("mySidebar").style.width = "0";}}
        
        // ===============================================
        // 2. وظائف شاشة قيد التطوير (Welcome Screen)
        // ===============================================
        function showWelcomeScreen() {
            document.getElementById('welcome-overlay').classList.remove('hidden');
            document.getElementById('welcome-overlay').style.opacity = '1';
            document.getElementById('welcome-overlay').style.display = 'flex';
        }

        function closeWelcomeScreen() {
            document.getElementById('welcome-overlay').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('welcome-overlay').style.display = 'none';
                document.getElementById('main-content').classList.remove('hidden');
                document.getElementById('main-content').style.display = 'block';
            }, 500);
        }
        
        // ===============================================
        // 3. وظائف نسيان كلمة المرور
        // ===============================================
        function showForgotPassword() {
            document.getElementById('main-login-content').style.display = 'none';
            document.getElementById('forgot-password-screen').style.display = 'flex';
        }
        
        function showLogin() {
            document.getElementById('main-login-content').style.display = 'block';
            document.getElementById('forgot-password-screen').style.display = 'none';
            document.getElementById('recovery-message').textContent = '';
            document.getElementById('forgot-password-form').reset();
        }

        // ===============================================
        // 4. كود تسجيل الدخول والتحكم بالجرس
        // ===============================================
        document.addEventListener('DOMContentLoaded', () => {
            const loginScreen = document.getElementById('login-screen');
            const mainContent = document.getElementById('main-content');
            const loginForm = document.getElementById('login-form');
            const loginMessage = document.getElementById('login-message');
            const loader = document.getElementById('loader-overlay');
            const bellIcon = document.getElementById('notification-bell');
            const dropdown = document.getElementById('notification-dropdown');

            // --- معالجة تسجيل الدخول ---
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const email = document.getElementById('email').value.trim();
                const password = document.getElementById('password').value.trim();
                
                const VALID_EMAIL = 'test@hakam.edu.sa';
                const VALID_PASSWORD = 'AZkm1122@'; 

                if (email === VALID_EMAIL && password === VALID_PASSWORD) {
                    loginScreen.style.display = 'none';
                    loader.style.display = 'flex'; // إظهار شاشة التحميل
                    loginMessage.textContent = '';
                    localStorage.setItem('isLoggedIn', 'true');
                    
                    setTimeout(() => {
                        loader.style.display = 'none'; // إخفاء التحميل
                        showWelcomeScreen(); // إظهار شاشة قيد التطوير
                    }, 2000); // 2 ثانية تحميل
                    
                } else {
                    loginMessage.textContent = '❌ الباسورد أو الايميل خطأ';
                }
            });

            // --- معالجة نسيان كلمة المرور ---
            document.getElementById('forgot-password-form').addEventListener('submit', (e) => {
                e.preventDefault();
                const recoveryEmail = document.getElementById('recovery-email').value.trim();
                if (recoveryEmail) {
                    document.getElementById('recovery-message').textContent = '✅ تم ارسال على الايميل المدخل رمز يرجى ادخاله';
                    setTimeout(() => {
                        showLogin();
                    }, 3000);
                }
            });

            // --- حالة الدخول عند تحميل الصفحة ---
            function checkLoginState() {
                if (localStorage.getItem('isLoggedIn') === 'true') {
                    loginScreen.style.display = 'none';
                    mainContent.classList.remove('hidden'); 
                    mainContent.style.display = 'block';
                    document.getElementById('welcome-overlay').style.display = 'none';
                } else {
                    loginScreen.style.display = 'flex';
                    mainContent.classList.add('hidden');
                    mainContent.style.display = 'none';
                }
            }
            checkLoginState();
            
            // --- وظيفة الجرس (التنبيهات) ---
            if (bellIcon) {
                bellIcon.addEventListener('click', () => {
                    bellIcon.classList.add('bell-shake');
                    setTimeout(() => {
                        bellIcon.classList.remove('bell-shake');
                    }, 500); 

                    dropdown.classList.toggle('active');
                });
                
                document.addEventListener('click', (e) => {
                    if (!bellIcon.contains(e.target) && !dropdown.contains(e.target)) {
                        dropdown.classList.remove('active');
                    }
                });
            }
        });
    </script>
</body>
</html>